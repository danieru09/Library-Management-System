package Admin;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.EventQueue;
import javax.swing.*;
import javax.swing.table.DefaultTableModel;
import java.awt.*;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;

public class AdminDashboard extends JFrame {

    private JFrame frame;
    private JTable table;
    private JTextField textField;
    private JTextField textField_1;
    private JTextField textField_2;

    public static void main(String[] args) {
        EventQueue.invokeLater(() -> {
            try {
                AdminDashboard window = new AdminDashboard();
                window.frame.setVisible(true);
            } catch (Exception e) {
                e.printStackTrace();
            }
        });
    }

    public AdminDashboard() {
        initialize();
    }

    private void initialize() {
        frame = new JFrame();
        frame.setBounds(100, 100, 1200, 700);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.getContentPane().setLayout(null);

        // Header Panel
        JPanel headerPanel = new JPanel();
        headerPanel.setBounds(0, 0, 1200, 80);
        headerPanel.setBackground(new Color(51, 153, 255));
        headerPanel.setLayout(null);
        frame.getContentPane().add(headerPanel);

        JLabel titleLabel = new JLabel("Mind Sphere");
        titleLabel.setFont(new Font("Segoe UI", Font.BOLD, 32));
        titleLabel.setForeground(Color.WHITE);
        titleLabel.setBounds(30, 15, 220, 50);
        headerPanel.add(titleLabel);

        JLabel welcomeLabel = new JLabel("Welcome, Admin");
        welcomeLabel.setFont(new Font("Segoe UI", Font.PLAIN, 24));
        welcomeLabel.setForeground(Color.WHITE);
        welcomeLabel.setBounds(950, 25, 190, 30);
        headerPanel.add(welcomeLabel);

        // Sidebar Panel
        JPanel sidebarPanel = new JPanel();
        sidebarPanel.setBounds(0, 80, 250, 620);
        sidebarPanel.setBackground(new Color(41, 128, 185));
        sidebarPanel.setLayout(null);
        frame.getContentPane().add(sidebarPanel);

        // Menu Buttons
        JButton homeButton = createMenuButton("Homepage", "home.png", 30, 20);
        sidebarPanel.add(homeButton);

        JButton addUserButton = createMenuButton("Add User", "member-list.png", 30, 80);
        sidebarPanel.add(addUserButton);

        JButton searchButton = createMenuButton("Search Books", "books tagilid.png", 30, 140);
        sidebarPanel.add(searchButton);

        JButton logoutButton = new JButton("LOG OUT");
        logoutButton.setBounds(30, 540, 190, 40);
        logoutButton.setBackground(new Color(231, 76, 60));
        logoutButton.setForeground(Color.WHITE);
        logoutButton.setFont(new Font("Segoe UI", Font.BOLD, 14));
        sidebarPanel.add(logoutButton);

        // Main Content Panel
        JPanel contentPanel = new JPanel();
        contentPanel.setBounds(250, 80, 950, 620);
        contentPanel.setBackground(Color.WHITE);
        contentPanel.setLayout(null);
        frame.getContentPane().add(contentPanel);

        // Book Management Panel
        JPanel bookPanel = new JPanel();
        bookPanel.setBounds(20, 20, 300, 500);
        bookPanel.setBackground(new Color(236, 240, 241));
        bookPanel.setLayout(null);
        contentPanel.add(bookPanel);

        // Add book input fields
        addBookInputField(bookPanel, "Book ID:", 30, 30, textField);
        addBookInputField(bookPanel, "Book Name:", 30, 100, textField_1);
        addBookInputField(bookPanel, "Author:", 30, 170, textField_2);

        // Action buttons
        JPanel buttonPanel = new JPanel();
        buttonPanel.setBounds(30, 250, 240, 50);
        buttonPanel.setLayout(new GridLayout(1, 2, 10, 0));
        bookPanel.add(buttonPanel);

        JButton addButton = new JButton("ADD");
        addButton.addMouseListener(new MouseAdapter() {
        	@Override
        	public void mouseClicked(MouseEvent e) {
        	}
        });
        JButton deleteButton = new JButton("DELETE");
        deleteButton.addMouseListener(new MouseAdapter() {
        	@Override
        	public void mouseClicked(MouseEvent e) {
        	}
        });
        buttonPanel.add(addButton);
        buttonPanel.add(deleteButton);

        // Table
        JScrollPane scrollPane = new JScrollPane();
        scrollPane.setBounds(340, 20, 590, 500);
        contentPanel.add(scrollPane);

        table = new JTable();
        table.setModel(new DefaultTableModel(
            new Object[19][3],
            new String[] {"BOOK ID", "NAME", "AUTHOR"}
        ));
        table.setFont(new Font("Segoe UI", Font.PLAIN, 14));
        scrollPane.setViewportView(table);

        // Action Listeners
        addUserButton.addActionListener(e -> {
            AddUser addUser = new AddUser();
            addUser.setVisible(true);
            dispose();
        });

        searchButton.addActionListener(e -> {
            userinfo userInfoFrame = new userinfo();
            userInfoFrame.setVisible(true);
            dispose();
        });
    }

    private JButton createMenuButton(String text, String iconPath, int x, int y) {
        JButton button = new JButton(text);
        button.setBounds(x, y, 190, 40);
        button.setFont(new Font("Segoe UI", Font.PLAIN, 16));
        button.setForeground(Color.WHITE);
        button.setBackground(new Color(52, 152, 219));
        button.setBorderPainted(false);
        button.setFocusPainted(false);
        if (iconPath != null) {
            try {
                ImageIcon icon = new ImageIcon(iconPath);
                button.setIcon(icon);
            } catch (Exception e) {
                // Handle missing icon
            }
        }
        return button;
    }

    private void addBookInputField(JPanel panel, String label, int x, int y, JTextField field) {
        JLabel lbl = new JLabel(label);
        lbl.setBounds(x, y, 100, 25);
        lbl.setFont(new Font("Segoe UI", Font.PLAIN, 14));
        panel.add(lbl);

        field = new JTextField();
        field.setBounds(x, y + 25, 240, 30);
        panel.add(field);
    }
}
